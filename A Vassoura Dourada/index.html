<!DOCTYPE html>
<html>
	<head> 
		<title>A VASSOURA DOURADA</title>
	</head>
	<body>
		<center>
			<canvas canvas id="VassouraDourada" width="800" height="600" style="border:5px solid #000000;">
			</canvas>
		</center>
		
		<script src="js/manager.js"></script>
		<script src="js/musicManager.js"></script>
		<script src="js/enemiesManager.js"></script>
		<script src="js/menu.js"></script>
		<script src="js/levelOne.js"></script>
		<script src="js/levelTwo.js"></script>
		<script src="js/levelThree.js"></script>
		<script src="js/screen.js"></script>
		<script src="js/text.js"></script>
		<script src="js/animation.js"></script>
		<script src="js/fade.js"></script>
		<script src="js/bar.js"></script>
		<script src="js/button.js"></script>
		<script src="js/broom.js"></script>
		<script src="js/runner.js"></script>
		<script src="js/bush.js"></script>
		<script src="js/rock.js"></script>
		<script src="js/barrel.js"></script>
		<script src="js/bat.js"></script>
		
		<script>
			var canvas = document.getElementById("VassouraDourada");
			var context = canvas.getContext("2d");
			
			var screen = new Screen();
			var manager = new Manager();
			var runner =  new Runner();
			var enemiesManager = new EnemiesManager();
			
			var keyDown = function(e) {
				switch (e.keyCode) {
					case 32:
						runner.jump();
						manager.clickSplashScreen();
						break;
						
					case 80:
						manager.clickPause();
						break;
						
					case 90:
						runner.hit();
						break;
				}
			}
			
			var mouseMove = function(e) {
				screen.optionsButton.mouseOver(e);
				screen.soundButton.mouseOver(e);
				screen.creditsButton.mouseOver(e);
				screen.playButton.mouseOver(e);
				screen.optionsMenuButton.mouseOver(e);
				screen.creditsMenuButton.mouseOver(e);
				screen.lossMenuButton.mouseOver(e);
				screen.lossGameButton.mouseOver(e);
				screen.pauseMenuButton.mouseOver(e);
			}
			
			var mouseClick = function(e) {
				screen.optionsButton.click(e);
				screen.soundButton.click(e);
				screen.creditsButton.click(e);
				screen.playButton.click(e);
				screen.optionsMenuButton.click(e);
				screen.creditsMenuButton.click(e);
				screen.lossMenuButton.click(e);
				screen.lossGameButton.click(e);
				screen.pauseMenuButton.click(e);
			}
			
			document.addEventListener("keydown", keyDown, true);
			document.addEventListener("click", mouseClick, false);
			document.addEventListener("mousemove", mouseMove, true);
			
			var loop = function() {
				manager.update();
				screen.draw();
				setTimeout(loop, 30);
			}

			loop();
		</script>
	</body>
</html>